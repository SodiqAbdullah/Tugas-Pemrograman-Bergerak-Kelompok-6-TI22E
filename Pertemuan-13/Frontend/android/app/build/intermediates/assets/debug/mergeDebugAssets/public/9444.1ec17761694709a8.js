"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9444],{9444(P,d,i){i.d(d,{LoginPage:()=>M});var g=i(467),m=i(8132),o=i(7343),p=i(2200),_=i(4341),n=i(3664),c=i(4796),f=i(6991);function h(s,t){1&s&&n.nrm(0,"ion-spinner",18)}function k(s,t){1&s&&(n.j41(0,"span"),n.EFF(1,"MASUK"),n.k0s())}function E(s,t){1&s&&(n.j41(0,"span"),n.EFF(1,"Memproses..."),n.k0s())}let M=(()=>{var s;class t{constructor(e,r,a){this.auth=e,this.router=r,this.toastCtrl=a,this.username="",this.password="",this.isLoading=!1}login(){var e=this;return(0,g.A)(function*(){var r;e.username&&e.password?(e.isLoading=!0,e.auth.login({username:e.username,password:e.password}).subscribe({next:(r=(0,g.A)(function*(a){e.isLoading=!1,yield e.auth.setToken(a.token),yield e.auth.setUsername(a.username||e.username),yield e.showToast("Login Berhasil! Selamat datang, "+e.username,"success"),e.router.navigate(["/home"],{replaceUrl:!0})}),function(l){return r.apply(this,arguments)}),error:function(){var r=(0,g.A)(function*(a){e.isLoading=!1;const l=a.error?.error||"Gagal login. Cek koneksi server.";yield e.showToast(l,"danger")});return function(l){return r.apply(this,arguments)}}()})):yield e.showToast("Username dan password tidak boleh kosong!","warning")})()}showToast(e,r){var a=this;return(0,g.A)(function*(){yield(yield a.toastCtrl.create({message:e,duration:2e3,color:r,position:"bottom"})).present()})()}static#n=s=()=>(this.\u0275fac=function(r){return new(r||t)(n.rXU(c.u),n.rXU(f.Ix),n.rXU(o.K_))},this.\u0275cmp=n.VBU({type:t,selectors:[["app-login"]],decls:34,vars:6,consts:[["color","primary"],[1,"ion-padding"],[1,"ion-text-center","ion-margin-bottom",2,"margin-top","30px"],["name","shield-checkmark-outline",2,"font-size","64px","color","var(--ion-color-primary)"],[2,"color","gray"],["lines","full",2,"margin-bottom","10px"],["name","person-outline","slot","start","color","primary"],["label","Username","labelPlacement","floating","placeholder","Masukkan username","autocomplete","username",3,"ngModelChange","ngModel"],["lines","full",2,"margin-bottom","20px"],["name","lock-closed-outline","slot","start","color","primary"],["label","Password","type","password","labelPlacement","floating","placeholder","Masukkan password","autocomplete","current-password",3,"ngModelChange","ngModel"],["expand","block",1,"ion-margin-top",3,"click","disabled"],["name","crescent","style","margin-right: 8px;",4,"ngIf"],[4,"ngIf"],["expand","block","fill","clear","color","medium","routerLink","/register",2,"margin-top","10px"],[2,"margin-top","40px","padding","15px","background","#f0f4ff","border-radius","10px","text-align","center"],["name","information-circle-outline","color","primary"],[2,"font-size","0.8rem","color","#555","margin","5px 0 0 0"],["name","crescent",2,"margin-right","8px"]],template:function(r,a){1&r&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n.EFF(3,"Login Sistem"),n.k0s()()(),n.j41(4,"ion-content",1)(5,"div",2),n.nrm(6,"ion-icon",3),n.j41(7,"h2"),n.EFF(8,"Selamat Datang!"),n.k0s(),n.j41(9,"p",4),n.EFF(10,"Silakan masukkan Username dan Password Anda."),n.k0s()(),n.j41(11,"ion-item",5),n.nrm(12,"ion-icon",6),n.j41(13,"ion-input",7),n.mxI("ngModelChange",function(u){return n.DH7(a.username,u)||(a.username=u),u}),n.k0s()(),n.j41(14,"ion-item",8),n.nrm(15,"ion-icon",9),n.j41(16,"ion-input",10),n.mxI("ngModelChange",function(u){return n.DH7(a.password,u)||(a.password=u),u}),n.k0s()(),n.j41(17,"ion-button",11),n.bIt("click",function(){return a.login()}),n.DNE(18,h,1,0,"ion-spinner",12)(19,k,2,0,"span",13)(20,E,2,0,"span",13),n.k0s(),n.j41(21,"ion-button",14),n.EFF(22," Belum punya akun? "),n.j41(23,"strong"),n.EFF(24,"\xa0Daftar di sini"),n.k0s()(),n.j41(25,"div",15),n.nrm(26,"ion-icon",16),n.j41(27,"p",17),n.EFF(28," Password Anda dienkripsi dengan "),n.j41(29,"strong"),n.EFF(30,"Bcrypt"),n.k0s(),n.EFF(31,"."),n.nrm(32,"br"),n.EFF(33," Sesi disimpan aman di storage native HP. "),n.k0s()()()),2&r&&(n.R7$(13),n.R50("ngModel",a.username),n.R7$(3),n.R50("ngModel",a.password),n.R7$(),n.Y8G("disabled",a.isLoading),n.R7$(),n.Y8G("ngIf",a.isLoading),n.R7$(),n.Y8G("ngIf",!a.isLoading),n.R7$(),n.Y8G("ngIf",a.isLoading))},dependencies:[o.bv,o.Jm,o.W9,o.eU,o.iq,o.$w,o.uz,o.w2,o.BC,o.ai,o.Gw,o.N7,p.MD,p.bT,_.YN,_.BC,_.vS,m.iI,m.Wk],encapsulation:2}))}return s(),t})()}}]);